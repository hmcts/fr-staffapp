header
  h2.heading-xlarge= t "devise.invitations.new.header"

= form_for @user, url: user_invitation_path, html: {:method => :post} do |f|
  - User.invite_key_fields.each do |field|

    .form-group
      = f.label :name, class: 'form-label'
      = f.label :name, @user.errors[:name].join(', ').html_safe, class: 'error' if @user.errors[:name].present?
      = f.text_field :name, class: 'form-control'

    .form-group
      = f.label field, class: 'form-label'
      = f.label field, @user.errors[field].join(', ').html_safe, class: 'error' if @user.errors[field].present?
      = f.text_field field, class: 'form-control'

  .form-group
    = f.label(:roles, 'Role', class: 'form-label')
    = f.collection_select :role, @roles, :to_s, :humanize

  -if current_user.admin?
    .form-group
      = f.label(:office_id, 'Office', class: 'form-label')
      = f.collection_select :office_id, Office.all, :id, :name
  -elsif current_user.manager?
    = f.hidden_field :office_id, value: current_user.office.id

  = f.submit t("devise.invitations.new.submit_button"), class: 'button'
